<ion-header>
  <ion-toolbar>
    <ion-title>Mot de passe oubliÃ©</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="forgot-password-container">
    
    <!-- Illustration cohÃ©rente -->
    <div class="forgot-illustration">
      <svg viewBox="0 0 300 200" xmlns="http://www.w3.org/2000/svg">
        <!-- Background circle -->
        <circle cx="150" cy="100" r="80" fill="#F8F9FA" stroke="#E1E8ED" stroke-width="2"/>
        
        <!-- Lock icon -->
        <g transform="translate(120, 60)">
          <!-- Lock body -->
          <rect x="10" y="25" width="40" height="35" rx="5" fill="#F4B942"/>
          <rect x="15" y="30" width="30" height="25" rx="3" fill="#E6A435"/>
          
          <!-- Lock shackle -->
          <path d="M20 25 Q20 15 30 15 Q40 15 40 25" 
                stroke="#2C3E50" stroke-width="4" fill="none"/>
          
          <!-- Keyhole -->
          <circle cx="30" cy="42" r="3" fill="#2C3E50"/>
          <rect x="29" y="42" width="2" height="8" fill="#2C3E50"/>
          
          <!-- Key floating -->
          <g transform="translate(50, 20)">
            <rect x="0" y="8" width="20" height="4" rx="2" fill="#27AE60"/>
            <rect x="16" y="5" width="2" height="4" fill="#27AE60"/>
            <rect x="16" y="11" width="2" height="4" fill="#27AE60"/>
            <circle cx="2" cy="10" r="3" fill="#27AE60"/>
          </g>
        </g>
        
        <!-- Email envelope -->
        <g transform="translate(90, 120)">
          <rect x="0" y="0" width="40" height="25" rx="3" fill="#E1E8ED"/>
          <path d="M0 0 L20 15 L40 0" stroke="#7F8C8D" stroke-width="2" fill="none"/>
          <circle cx="45" cy="12" r="3" fill="#F4B942"/>
        </g>
        
        <!-- Floating elements -->
        <circle cx="80" cy="50" r="2" fill="#F4B942" opacity="0.6"/>
        <circle cx="220" cy="60" r="1.5" fill="#27AE60" opacity="0.7"/>
        <circle cx="70" cy="150" r="1.5" fill="#E74C3C" opacity="0.5"/>
        <circle cx="230" cy="140" r="2" fill="#3498DB" opacity="0.6"/>
      </svg>
    </div>

    <!-- Titre -->
    <h1 class="forgot-title">Mot de passe oubliÃ© ?</h1>
    <p class="forgot-subtitle">Entrez votre email pour recevoir un lien de rÃ©initialisation</p>

    <!-- Formulaire avec input HTML natif (solution) -->
    <form (ngSubmit)="resetPassword()">
      <!-- Email Input Natif StylisÃ© -->
      <div class="native-input-container">
        <label class="native-label">ðŸ“§ Email</label>
        <div class="input-placeholder">Votre email</div>
        <input 
          #emailInput
          [(ngModel)]="email"
          name="email"
          type="email"
          class="native-input"
          required
          (focus)="onEmailFocus()"
          (input)="onEmailInputNative($event)"
        >
      </div>

      <ion-button expand="block" type="submit">
        RÃ©initialiser le mot de passe
      </ion-button>
    </form>

    <!-- Bouton de test pour le curseur -->
    <ion-button expand="block" fill="clear" color="warning" (click)="testEmailFocus()">
      ðŸ§ª Test Focus Email (Debug)
    </ion-button>

    <ion-button expand="block" fill="clear" (click)="login()">
      Retour Ã  la connexion
    </ion-button>

    <!-- Message -->
    <div *ngIf="message" class="message ion-text-center">
      {{ message }}
    </div>
    
  </div>
</ion-content>