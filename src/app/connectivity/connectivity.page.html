<ion-header>
  <ion-toolbar color="primary">
    <ion-title>ESP32 Connectivité</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  
  <!-- ESP32 Status -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>ESP32</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item lines="none">
        <ion-icon 
          slot="start" 
          [name]="esp32Connected ? 'checkmark-circle' : 'close-circle'" 
          [color]="esp32Connected ? 'success' : 'danger'">
        </ion-icon>
        <ion-label>
          <h2>{{ esp32Connected ? 'Connecté' : 'Déconnecté' }}</h2>
        </ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <!-- WiFi Status -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>WiFi</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item lines="none">
        <ion-icon 
          slot="start" 
          name="wifi" 
          [color]="getWifiColor()">
        </ion-icon>
        <ion-label>
          <h2>{{ wifiConnected ? 'Connecté' : 'Déconnecté' }}</h2>
          <div *ngIf="wifiConnected">
            <p>Signal: {{ wifiStrength }}%</p>
            <ion-progress-bar 
              [value]="wifiStrength/100" 
              [color]="getWifiColor()">
            </ion-progress-bar>
          </div>
        </ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <!-- Simulation Button -->
  <ion-button expand="block" color="secondary" (click)="simulate()">
    <ion-icon slot="start" name="refresh"></ion-icon>
    Simuler données
  </ion-button>

</ion-content>