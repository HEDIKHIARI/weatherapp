<ion-header>
  <ion-toolbar color="primary">
    <ion-title>
      <ion-icon name="partly-sunny"></ion-icon>
      Station Météo
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="refreshData()">
        <ion-icon slot="icon-only" name="refresh"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="dashboard-content">
<<<<<<< HEAD
  <div class="last-update">
    Dernière mise à jour: {{ lastUpdate | date:'medium' }}
=======
  <!-- Boutons Ajoutés -->
  <div class="action-buttons">
    <ion-button expand="block" color="primary" (click)="refreshData()">
      <ion-icon name="refresh" slot="start"></ion-icon>
      Actualiser
    </ion-button>
    <ion-button expand="block" color="secondary" (click)="showHistory()">
      <ion-icon name="time" slot="start"></ion-icon>
      Historique
    </ion-button>
    <ion-button expand="block" color="tertiary" (click)="goToHomePage()">
      <ion-icon name="home" slot="start"></ion-icon>
      Accueil
    </ion-button>
>>>>>>> ec93d45d33df1ef5f07970619bc26b64207ba4d9
  </div>
</ion-button>

  <ion-grid>
    <ion-row>
      <!-- Temperature Card -->
      <ion-col size="12" size-md="6" size-lg="3">
        <ion-card class="sensor-card">
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="thermometer" color="danger"></ion-icon>
              Température
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div class="sensor-value">{{ temperature }}°C</div>
            <ion-progress-bar 
              [value]="temperature / 50" 
              color="danger"
              [buffer]="0.5"></ion-progress-bar>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- Humidity Card -->
      <ion-col size="12" size-md="6" size-lg="3">
        <ion-card class="sensor-card">
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="water" color="primary"></ion-icon>
              Humidité
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div class="sensor-value">{{ humidity }}%</div>
            <ion-progress-bar 
              [value]="humidity / 100" 
              color="primary"></ion-progress-bar>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- Pressure Card -->
      <ion-col size="12" size-md="6" size-lg="3">
        <ion-card class="sensor-card">
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="speedometer" color="secondary"></ion-icon>
              Pression
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div class="sensor-value">{{ pressure }} hPa</div>
            <div class="pressure-trend">
              <ion-icon 
                [name]="pressureTrendIcon" 
                [color]="pressureTrendColor"></ion-icon>
              {{ pressureTrend }}
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- Air Quality Card -->
      <ion-col size="12" size-md="6" size-lg="3">
        <ion-card class="sensor-card">
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="cloud" [color]="airQualityColor"></ion-icon>
              Qualité de l'air
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div class="air-quality-indicator" [ngClass]="airQualityClass">
              {{ airQualityText }}
            </div>
            <div class="air-quality-details">
              PM2.5: {{ pm25 }} µg/m³ | PM10: {{ pm10 }} µg/m³
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row>
      <!-- Wind Card -->
      <ion-col size="12" size-md="6">
        <ion-card class="sensor-card">
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="flag" color="medium"></ion-icon>
              Vent
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div class="wind-container">
              <div class="wind-speed">
                <ion-icon name="speedometer-outline"></ion-icon>
                {{ windSpeed }} km/h
              </div>
              <div class="wind-direction">
                <ion-icon 
                  [name]="windDirectionIcon" 
                  [style.transform]="'rotate(' + windDirection + 'deg)'"
                  color="medium"></ion-icon>
                {{ windDirectionText }}
              </div>
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- Precipitation Card -->
      <ion-col size="12" size-md="6">
        <ion-card class="sensor-card">
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="rainy" color="primary"></ion-icon>
              Précipitations
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div class="sensor-value">{{ precipitation }} mm</div>
            <div class="precipitation-rate">
              Taux: {{ precipitationRate }} mm/h
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row>
      <!-- UV Index Card -->
      <ion-col size="12">
        <ion-card class="sensor-card">
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="sunny" [color]="uvColor"></ion-icon>
              Indice UV
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div class="uv-container">
              <div class="uv-value" [ngClass]="uvClass">{{ uvIndex }}</div>
              <div class="uv-text">{{ uvText }}</div>
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer>
  <ion-toolbar color="primary">
    <ion-segment value="dashboard" (ionChange)="segmentChanged($event)">
      <ion-segment-button value="dashboard">
        <ion-icon name="home"></ion-icon>
        <ion-label>Dashboard</ion-label>
      </ion-segment-button>
      <ion-segment-button value="history">
        <ion-icon name="time"></ion-icon>
        <ion-label>Historique</ion-label>
      </ion-segment-button>
      <ion-segment-button value="settings">
        <ion-icon name="settings"></ion-icon>
        <ion-label>Paramètres</ion-label>
      </ion-segment-button>
      <ion-segment-button value="connectivity">
        <ion-icon name="wifi"></ion-icon>
        <ion-label>Connectivité</ion-label>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-footer>